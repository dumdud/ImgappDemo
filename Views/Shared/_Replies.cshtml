@using ImgappDemo.Utilities;

@if (Model.Replies != null)
{
    <div class="px-5">
        @foreach (Comment reply in Model.Replies)
        {

            @* <div class="card-body container">
                <div class="row ">
                <div class="col-2 px-2 d-flex justify-content-end">
                @if (reply.User.Avatar == null)
                {
                <img class="rounded-circle shadow-1-strong" src="./defaultAvatars/testSloth.jpg" alt="avatar" width="60"
                height="60" />
                }
                else
                {
                <img class="rounded-circle shadow-1-strong"
                src="data:image;base64,@Convert.ToBase64String(reply.User.Avatar)" alt="avatar" width="60"
                height="60" />
                }
                </div>
                <div class="col-10 px-2">
                <div class="d-flex">
                <h6 class="fw-bold text-primary">@reply.User.Name</h6>
                <p class="text-muted small px-1">
                @Helper.DateToString(reply.PostDate)
                </p>
                </div>
                <p class="">@reply.Message</p>
                @await Html.PartialAsync("_CommentFooter", reply)
                </div>
                </div>
                </div> *@
            <div class="card-body d-flex flex-start align-items-start p-0">
                @if (reply.User.Avatar == null)
                {
                    <img class="rounded-circle shadow-1-strong me-3" src="./defaultAvatars/testSloth.jpg" alt="avatar" width="40"
            height="40" />
                }
                else
                {
                    <img class="rounded-circle shadow-1-strong me-3"
            src="data:image;base64,@Convert.ToBase64String(reply.User.Avatar)" alt="avatar" width="40" height="40" />
                }
                <div>
                    <div>
                        <a class="">@reply.User.Name</a>
                        <a class="text-muted" target="_blank">
                            @Helper.DateToString(reply.PostDate)
                        </a>
                    </div>
                    <p class="font-helvetica">@reply.Message</p>
                    @await Html.PartialAsync("_CommentFooter", reply)
                </div>
            </div>
            @await Html.PartialAsync("_ReplyBox", reply)
            @await Html.PartialAsync("_Replies", reply)
        }

    </div>
}
